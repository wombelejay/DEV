<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.13. Loops and Sequences &mdash; Hands-on Python Tutorial for Python 3</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="Hands-on Python Tutorial for Python 3" href="index.html" />
    <link rel="up" title="1. Beginning With Python" href="ch1.html" />
    <link rel="next" title="1.14. Decimals, Floats, and Floating Point Arithmetic" href="float.html" />
    <link rel="prev" title="1.12. Dictionaries" href="dictionaries.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="float.html" title="1.14. Decimals, Floats, and Floating Point Arithmetic"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dictionaries.html" title="1.12. Dictionaries"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Hands-on Python Tutorial</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="ch1.html" accesskey="U">1. Beginning With Python</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="loops-and-sequences">
<span id="id1"></span><h1>1.13. Loops and Sequences<a class="headerlink" href="#loops-and-sequences" title="Permalink to this headline">¶</a></h1>
<p>Modern computers can do millions or even billions of instructions a
second. With the techniques discussed so far, it would be hard to
get a program that would run by itself for more than a fraction of
a second.</p>
<p>Practically, we cannot write millions of instructions to keep
the computer busy. To keep a computer doing useful work we need
<em>repetition</em>, looping back over the same block of code again and
again. There are two Python statement types to do that: the simpler
<code class="docutils literal"><span class="pre">for</span></code> loops, which we take up shortly, and <code class="docutils literal"><span class="pre">while</span></code> loops, which
we take up later, in <a class="reference internal" href="whilestatements.html#while-statements"><span>While Statements</span></a>.</p>
<p>Two preliminaries:</p>
<ol class="arabic simple">
<li>The value of already defined variables can be
updated. This will be particularly important in loops. To prepare for that we
first follow how variables can be updated in an even simpler
situation, where statements are just executed in textual order.</li>
<li>Sequence types are used in <code class="docutils literal"><span class="pre">for</span></code> loops.  We will
look at a basic sequence type: <code class="docutils literal"><span class="pre">list</span></code>.</li>
</ol>
<p>Then we put this all together.  This is a long
section. Go slowly and carefully.</p>
<div class="section" id="updating-variables">
<span id="index-0"></span><span id="id2"></span><h2>1.13.1. Updating Variables<a class="headerlink" href="#updating-variables" title="Permalink to this headline">¶</a></h2>
<p>The programs so far have defined and used variables, but other than
in early shell examples we have not changed the value of existing
variables. For now consider a particularly simple example, just
chosen as an illustration, in the example file <code class="docutils literal"><span class="pre">updateVar.py</span></code>:</p>
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>      <span class="c"># simple sequential code</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>  <span class="c"># updating two variables</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span>        
<span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span>      
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>    
</pre></div>
</td></tr></table></div>
<p>Can you <em>predict</em> the result? Run the program and check.
Particularly if you did not guess right, it is important to
understand what happens, one step at a time. That means keeping
track of what changes to variables are made by each statement.</p>
<p>In the table below, statements are referred to by the numbers labeling
the lines in the code above. We can track the state of each
variable after each line is executed. A dash is shown where a
variable is not defined. For instance after line 1 is executed, a
value is given to x, but y is still undefined. Then y gets a value
in line 2. The comment on the right summarizes what is happening.
Since x has the value 3 when line 2 starts, x+2 is the same as 3+2.
In line three we use the fact that the right side of an assignment
statement uses the values of variables when the line starts
executing (what is left after the previous line of the table
executed), but the assignment to the variable y on the left causes
a change to y, and hence the updated value of y, 10, is shown in
the table. Line 4 then changes x, using the <em>latest</em> value of y
(10, not the initial value 5!). The result from line 5 confirms the
values of x and y.</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="3%" />
<col width="3%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Line</th>
<th class="head">x</th>
<th class="head">y</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>3</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>3</td>
<td>5</td>
<td>5=3+2, using the value of x from the previous line</td>
</tr>
<tr class="row-even"><td>3</td>
<td>3</td>
<td>10</td>
<td>10=2*5 on the right, use the value of y from the
previous line</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>7</td>
<td>10</td>
<td>7=10-3 on the right, use the value of x and y from the
previous line</td>
</tr>
<tr class="row-even"><td>5</td>
<td>7</td>
<td>10</td>
<td>print: 7 10</td>
</tr>
</tbody>
</table>
<p>When we create such a table,
the order of execution will always be the order of the lines in the
table. In this simple <em>sequential</em> code, that <em>also</em> follows the
<em>textual</em> order of the program. Following each line of execution of a
program in the proper order of execution, carefully,
keeping track of the current values of
variables, will be called <em>playing computer</em>. A table like the one
above is an organized way to keep track.</p>
</div>
<div class="section" id="the-list-type">
<span id="index-1"></span><span id="id3"></span><h2>1.13.2. The <code class="docutils literal"><span class="pre">list</span></code> Type<a class="headerlink" href="#the-list-type" title="Permalink to this headline">¶</a></h2>
<p>Lists are ordered sequences of arbitrary data. Lists are the first
kind of data discussed so far that are <em>mutable</em>: the length of the
sequence can be changed and elements substituted. We will delay the
discussion of changes to lists until a further introduction to
objects. Lists can be written explicitly. <em>Read</em> the following
examples</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">,</span> <span class="s">&#39;blue&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
<span class="p">[</span><span class="s">&#39;silly&#39;</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="s">&#39;mixed&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">23</span><span class="p">,</span> <span class="s">&#39;example&#39;</span><span class="p">]</span>
<span class="p">[]</span> <span class="c"># the empty list</span>
<span class="p">[</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[]</span> <span class="p">]</span> <span class="c"># list containing three elements; each a list</span>
</pre></div>
</div>
<p>The basic format is a square-bracket-enclosed, comma-separated list
of arbitrary data.</p>
</div>
<div class="section" id="the-range-function-part-1">
<span id="the-range-function-i"></span><span id="index-2"></span><h2>1.13.3. The <code class="docutils literal"><span class="pre">range</span></code> Function, Part 1<a class="headerlink" href="#the-range-function-part-1" title="Permalink to this headline">¶</a></h2>
<p>There is a built-in function <code class="docutils literal"><span class="pre">range</span></code>, that can be used to
automatically generate regular arithmetic sequences. Try the
following in the <em>Shell</em>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>The general pattern for use is</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">range(</span></code><em>sizeOfSequence</em><code class="docutils literal"><span class="pre">)</span></code></div></blockquote>
<p>This syntax will generate the integers, one at a time, <em>as needed</em> <a class="footnote-reference" href="#lazy" id="id4">[1]</a>. If
you want to see all the results at once as a list, you can convert
to a <code class="docutils literal"><span class="pre">list</span></code> as in the examples above. The resulting sequence starts
at 0 and ends <em>before</em> the parameter. We will see there are good
reasons to start from 0 in Python. One important property of
sequences generated by <code class="docutils literal"><span class="pre">range(n)</span></code> is that the total number of
elements is <code class="docutils literal"><span class="pre">n</span></code>: The sequence omits the number <code class="docutils literal"><span class="pre">n</span></code> itself, but
includes 0 instead.</p>
<p>With more parameters, the <code class="docutils literal"><span class="pre">range</span></code> function can be used to
generate a much wider variety of sequences. The elaborations are
discussed in <a class="reference internal" href="graphics.html#random-colors"><span>Random Colors</span></a> and
<a class="reference internal" href="whilestatements.html#the-general-range-function"><span>The Most General range Function</span></a>.</p>
<table class="docutils footnote" frame="void" id="lazy" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[1]</a></td><td>In computer jargon, producing values of a sequence only as needed is called
<em>lazy</em> evaluation.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="basic-for-loops">
<span id="index-3"></span><span id="id5"></span><h2>1.13.4. Basic <code class="docutils literal"><span class="pre">for</span></code> Loops<a class="headerlink" href="#basic-for-loops" title="Permalink to this headline">¶</a></h2>
<p>Try the following in the <em>Shell</em>. You get a sequence of
continuation lines before the Shell responds.
After seeing the colon at the end of the first line,
the Shell knows later lines are to be indented.</p>
<p><em>Be sure to enter another empty line.</em> (Just press <code class="kbd docutils literal"><span class="pre">Enter</span></code>.)
<em>at the end to get the Shell to respond.</em> :</p>
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Yes&#39;</span> <span class="o">*</span> <span class="n">count</span><span class="p">)</span> 
</pre></div>
</td></tr></table></div>
<p>This is a <code class="docutils literal"><span class="pre">for</span></code> loop. It has the heading starting with <code class="docutils literal"><span class="pre">for</span></code>,
followed by a variable name (<code class="docutils literal"><span class="pre">count</span></code> in this case), the word
<code class="docutils literal"><span class="pre">in</span></code>, some sequence, and a final colon. As with function
definitions and other heading lines, the colon
at the end of the line indicates that a consistently indented block
of statements follows to complete the <code class="docutils literal"><span class="pre">for</span></code> loop.</p>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">for</span></code> <strong>item</strong> <code class="docutils literal"><span class="pre">in</span></code> <em>sequence</em><code class="docutils literal"><span class="pre">:</span></code></div>
<div class="line-block">
<div class="line">indented statements to repeat; may use <strong>item</strong></div>
</div>
</div>
<p>The block of lines is repeated once for each element of the
sequence, so in this example the two lines in the indented block
are repeated three times. Furthermore the variable in the heading
(<code class="docutils literal"><span class="pre">count</span></code> here) may be used in the block, and each time through it
takes on the <em>next</em> value in the sequence, so the first time
through the loop <code class="docutils literal"><span class="pre">count</span></code> is 1, then 2, and finally 3. Look again
at the output and see that it matches this sequence.  A more detailed
sequence is given, playing computer, in the table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="8%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Line</th>
<th class="head">count</th>
<th class="head">comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>1</td>
<td>start with the first element of the list</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>1</td>
<td>print 1</td>
</tr>
<tr class="row-even"><td>3</td>
<td>1</td>
<td>&#8216;yes&#8217; * 1 is &#8216;yes&#8217;; print yes</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>2</td>
<td>change count to the next element in the list</td>
</tr>
<tr class="row-even"><td>2</td>
<td>2</td>
<td>print 2</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>2</td>
<td>&#8216;yes&#8217; * 2 is &#8216;yesyes&#8217;; print yesyes;</td>
</tr>
<tr class="row-even"><td>1</td>
<td>3</td>
<td>change count to the next element in the list</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>3</td>
<td>print 3</td>
</tr>
<tr class="row-even"><td>3</td>
<td>3</td>
<td>&#8216;yes&#8217; * 3 is &#8216;yesyesyes&#8217;; print yesyesyes; done with list</td>
</tr>
</tbody>
</table>
<p>When executing step by step, note that the <code class="docutils literal"><span class="pre">for</span></code> loop heading serves <em>two</em>
purposes:</p>
<ul class="simple">
<li>Each time the heading line executes, it implicitly assigns a new value to
the variable name you use in place of <strong>item</strong>.</li>
<li>After each execution of the heading line, the statements in the
indented block are executed,
generally making use of the the new value for the variable assigned in the
heading.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When playing computer with a loop, the same line numbers can
reappear over and over, because the <code class="docutils literal"><span class="pre">for</span></code> loop heading line
and the indented body under it are each executed repeatedly.
Each time one of these lines is executed, it must be listed separately,
in time sequence!</p>
</div>
<p>A <code class="docutils literal"><span class="pre">for</span></code> loop is technically a single <em>compound statement</em>.
Its level of indentation is considered to be
the level of indentation of its heading.</p>
<p>When you used the <em>Shell</em> to enter a loop,
there was a reason that the interpreter waited to respond until after you
entered an empty line: The interpreter did not know how long the
loop block was going to be! The empty line is a signal to the
interpreter that you are done with the loop block, and hence ready to
execute the complete compound loop statement.</p>
<p>Look at the following example program <code class="docutils literal"><span class="pre">for123.py</span></code>, and run it.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Yes&#39;</span> <span class="o">*</span> <span class="n">count</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;Done counting.&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;blue&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
</pre></div>
</div>
<p>In a file, where the interpreter does not need to respond
immediately, the blank line is not necessary. Instead, as with a
function definition or any other format with an indented block, you
indicate being past the indented block by <strong>de</strong>denting.
Here the following <code class="docutils literal"><span class="pre">print</span></code> statement has the same level of indentation
as the <code class="docutils literal"><span class="pre">for</span></code> loop heading.  Because they have the same level of
indentation, they are executed in sequence. Hence in the code above,
&#8220;Done Counting.&#8221; is printed once after the first loop completes
<em>all</em> of its repetitions.
Execution of the program ends with another simple loop.</p>
<p>As with the indented block in a function, it is important to get
the indentation right. Alter the code above, so the fourth line is
indented:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Yes&#39;</span> <span class="o">*</span> <span class="n">count</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Done counting.&#39;</span><span class="p">)</span> <span class="c"># changed so indented</span>
<span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;blue&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
</pre></div>
</div>
<p>Predict the change, and run the code again to test.</p>
<p id="index-4">Loops are one of the most important features in programming. While
the <code class="docutils literal"><span class="pre">for</span></code> loop syntax is pretty simple, using them creatively to solve
problems (rather than just look at a demonstration) is among the
biggest challenges for many learners at an introductory level. One
way to simplify the learning curve is to classify common situations
and patterns, and give them names.
One of the simplest patterns is illustrated in all of the <code class="docutils literal"><span class="pre">for</span></code> loop examples
so far, a simple <em>for-each</em> loop:  <strong>For each</strong> element of the sequence,
do the same sort of thing with it.  Stated as more Pythonic pseudo-code:</p>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">for</span></code> <strong>item</strong> <code class="docutils literal"><span class="pre">in</span></code> <em>sequence</em><code class="docutils literal"><span class="pre">:</span></code></div>
<div class="line-block">
<div class="line">do something with the current <strong>item</strong></div>
</div>
</div>
<p>(It would be even more like English if <code class="docutils literal"><span class="pre">for</span></code> were replace by
<code class="docutils literal"><span class="pre">for</span> <span class="pre">each</span></code>, but the shorter version is the one used by Python.)</p>
<p>In the <code class="docutils literal"><span class="pre">for</span></code> loop examples above, something is printed that is
related to each item in the list. Printing is certainly one form of
&#8220;do something&#8221;, but the possibilities for &#8220;do something&#8221; are
completely general!</p>
<p>We can use a for-each loop to revise our first example in the Tutorial. <em>Recall</em>
the code from madlib.py:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">addPick</span><span class="p">(</span><span class="s">&#39;animal&#39;</span><span class="p">,</span> <span class="n">userPicks</span><span class="p">)</span>
<span class="n">addPick</span><span class="p">(</span><span class="s">&#39;food&#39;</span><span class="p">,</span> <span class="n">userPicks</span><span class="p">)</span>
<span class="n">addPick</span><span class="p">(</span><span class="s">&#39;city&#39;</span><span class="p">,</span> <span class="n">userPicks</span><span class="p">)</span>
</pre></div>
</div>
<p>Each line is doing exactly the same thing, except varying the
string used as the cue, while repeating the rest of the line.  This
is the for-each pattern, but we need to list the sequence that the
cues come from. <em>Read</em> the alternative:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">for</span> <span class="n">cue</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;animal&#39;</span><span class="p">,</span> <span class="s">&#39;food&#39;</span><span class="p">,</span> <span class="s">&#39;city&#39;</span><span class="p">]:</span>  <span class="c"># heading</span>
    <span class="n">addPick</span><span class="p">(</span><span class="n">cue</span><span class="p">,</span> <span class="n">userPicks</span><span class="p">)</span>             <span class="c"># body</span>
</pre></div>
</div>
<p>Seeing
this feature requires the ability to <em>abstract</em> the general pattern from
the group of examples.  This is essential for using loops effectively.</p>
<p>If you wish to see or run the whole program with this small
modification, see the example <code class="docutils literal"><span class="pre">madlibloop.py</span></code>.  A common naming convention is used
in the program:
Each element in the list is a <code class="docutils literal"><span class="pre">cue</span></code>, while the list with all the elements is
named with the plural <code class="docutils literal"><span class="pre">cues</span></code>.  In later situations I make a list name be the
plural of the variable name used for an individual item of the list.</p>
<p>Note the logic of the transformation between the two program versions:
The alternative pieces of data are collected in the list in the
<code class="docutils literal"><span class="pre">for</span></code> loop heading.
A single
variable name (here I chose <code class="docutils literal"><span class="pre">cue</span></code>) is used in the heading as a placeholder
to refer to the <em>current</em> choice being handled, and the body refers to this
variable <code class="docutils literal"><span class="pre">cue</span></code> in place of the explicit data values included each time
in the original no-loop version.</p>
<p id="index-5">It is important to understand the sequence of operations, how
execution goes back and forth between the heading and the body.
Here are the details:</p>
<ol class="arabic simple">
<li>heading first time: variable <code class="docutils literal"><span class="pre">cue</span></code> is set to the first element
of the sequence, <code class="docutils literal"><span class="pre">'animal'</span></code></li>
<li>body first time: since <code class="docutils literal"><span class="pre">cue</span></code> is now <code class="docutils literal"><span class="pre">'animal'</span></code>, effectively
execute <code class="docutils literal"><span class="pre">addPick('animal',</span> <span class="pre">userPicks)</span></code> (Skip the details of the
function call in this outline.)</li>
<li>heading second time: variable <code class="docutils literal"><span class="pre">cue</span></code> is set to the next element
of the sequence, <code class="docutils literal"><span class="pre">'food'</span></code></li>
<li>body second time: since <code class="docutils literal"><span class="pre">cue</span></code> is now <code class="docutils literal"><span class="pre">'food'</span></code>, effectively
execute <code class="docutils literal"><span class="pre">addPick('food',</span> <span class="pre">userPicks)</span></code></li>
<li>heading third time: variable <code class="docutils literal"><span class="pre">cue</span></code> is set to the next (last)
element of the sequence, <code class="docutils literal"><span class="pre">'city'</span></code></li>
<li>body third time: since <code class="docutils literal"><span class="pre">cue</span></code> is now <code class="docutils literal"><span class="pre">'city'</span></code>, effectively
execute <code class="docutils literal"><span class="pre">addPick('city',</span> <span class="pre">userPicks)</span></code></li>
<li>heading done: Since there are no more elements in the sequence,
the entire <code class="docutils literal"><span class="pre">for</span></code> loop is done and execution would continue with
the statement after it (not indented).</li>
</ol>
<p>In this example the data values are just a few given literals,
and there is only one line in the repeated pattern.  Hence the use of a <code class="docutils literal"><span class="pre">for</span></code> loop
is not a big deal, but it makes a simple example!
This looping construction would be much handier if you were to
modify the original mad lib example, and had a story with many more
cues. Also this revision will allow for further improvements in
<a class="reference internal" href="madlib2.html#the-revised-mad"><span>The Revised Mad Lib Program</span></a>, after we introduce more about string
manipulation.</p>
<div class="section" id="pattern-loop-exercise">
<h3>1.13.4.1. Pattern Loop Exercise<a class="headerlink" href="#pattern-loop-exercise" title="Permalink to this headline">¶</a></h3>
<p>Write a two-line for-each loop in a file <code class="docutils literal"><span class="pre">types2.py</span></code>
containing a call to the <code class="docutils literal"><span class="pre">type</span></code> function, so that
this code with the for-each loop
produces exactly the same printed output
as the code in example file <code class="docutils literal"><span class="pre">types1.py</span></code>.
The <code class="docutils literal"><span class="pre">types1.py</span></code> code is shown below:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="mf">3.5</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="mf">3.5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">([],</span> <span class="nb">type</span><span class="p">([]))</span>
<span class="nb">print</span><span class="p">(</span><span class="k">True</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="k">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="k">None</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="k">None</span><span class="p">))</span>
</pre></div>
</div>
<p>Execute both versions to check yourself.  Hint 1: <a class="footnote-reference" href="#type2hint1" id="id6">[2]</a>  Hint 2: <a class="footnote-reference" href="#type2hint2" id="id7">[3]</a></p>
</div>
<div class="section" id="triple-exercise">
<h3>1.13.4.2. Triple Exercise<a class="headerlink" href="#triple-exercise" title="Permalink to this headline">¶</a></h3>
<p>Complete the following function. This starting code is in
<code class="docutils literal"><span class="pre">tripleStub.py</span></code>. Save it to the <em>new</em> name <code class="docutils literal"><span class="pre">triple.py</span></code>. Note
the way an example is given in the documentation string. It
simulates the use of the function in the Shell. This is a common
convention:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">tripleAll</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; print triple each of the numbers in the list nums.</span>
<span class="sd">    &gt;&gt;&gt; tripleAll([2, 4, 1, 5])</span>
<span class="sd">    6</span>
<span class="sd">    12</span>
<span class="sd">    3</span>
<span class="sd">    15</span>
<span class="sd">    &gt;&gt;&gt; tripleAll([-6])</span>
<span class="sd">    -18</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="type2hint1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[2]</a></td><td>The elements of the list in the <code class="docutils literal"><span class="pre">for</span></code> loop heading
are not all of the same type.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="type2hint2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[3]</a></td><td>You need to use the loop variable twice in the loop body.</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="simple-repeat-loop">
<span id="index-6"></span><span id="id8"></span><h2>1.13.5. Simple Repeat Loop<a class="headerlink" href="#simple-repeat-loop" title="Permalink to this headline">¶</a></h2>
<p>The examples above all used the value of the variable in the
<code class="docutils literal"><span class="pre">for</span></code> loop heading. An even simpler <code class="docutils literal"><span class="pre">for</span></code> loop usage is when
you just want to repeat the <em>exact</em> same thing a specific number of
times. In that case only the <em>length</em> of the sequence, not the
individual elements are important. We have already seen that the
<code class="docutils literal"><span class="pre">range</span></code> function provides an easy way to produce a sequence with
a specified number of elements. Read and run the example program
<code class="docutils literal"><span class="pre">repeat1.py</span></code>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39; A simple repeat loop&#39;&#39;&#39;</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Hello&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this situation, the variable <code class="docutils literal"><span class="pre">i</span></code> is not used inside the body
of the for-loop.</p>
<p>The user could choose the number of times to repeat. Read and run
the example program <code class="docutils literal"><span class="pre">repeat2.py</span></code>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;The number of repetitions is specified by the user.&#39;&#39;&#39;</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s">&#39;Enter the number of times to repeat: &#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;This is repetitious!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>When you are reading code, you look at variable names as they are introduced,
and see where they are used later.
In the simple repeat loops above, the loop variable <code class="docutils literal"><span class="pre">i</span></code> is introduced,
because there must be a variable name there, but it is never used.</p>
<p id="index-7">One convention to indicate the simple repeat loop variable is
never used again, is to use the special variable name <code class="docutils literal"><span class="pre">_</span></code> (just an underscore),
as in:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Hello&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="successive-modification-loops">
<span id="index-8"></span><span id="id9"></span><h2>1.13.6. Successive Modification Loops<a class="headerlink" href="#successive-modification-loops" title="Permalink to this headline">¶</a></h2>
<p>Suppose I have a list of items called <code class="docutils literal"><span class="pre">items</span></code>, and I want to
print out each item and number them successively. For instance if
<code class="docutils literal"><span class="pre">items</span></code> is <code class="docutils literal"><span class="pre">['red',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'green']</span></code>, I would
<em>like</em> to see the <em>output</em>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="mi">1</span> <span class="n">red</span>
<span class="mi">2</span> <span class="n">orange</span>
<span class="mi">3</span> <span class="n">yellow</span>
<span class="mi">4</span> <span class="n">green</span>
</pre></div>
</div>
<p><em>Read about the following thought process for developing this:</em></p>
<p>If I allow myself to omit the numbers, it is easy: For any <code class="docutils literal"><span class="pre">item</span></code>
in the list, I can process it with</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
<p>and I just go through the list and do it <em>for each</em> one. (Copy and
run if you like.)</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;orange&#39;</span><span class="p">,</span> <span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
<p>Clearly the more elaborate version with numbers has a pattern with
<em>some</em> consistency, each line is at least in the form:</p>
<blockquote>
<div>number item</div></blockquote>
<p>but the number changes each time, and the numbers do <em>not</em> come
straight from the list of items.</p>
<p>A variable can change, so it makes sense to have a variable
<code class="docutils literal"><span class="pre">number</span></code>, so we have the potential to make it change correctly.
We could easily get it right the first time, and then repeat the
<em>same</em> number. Read and run the example program
<code class="docutils literal"><span class="pre">numberEntries1.py</span></code>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;In this version number does not change.&#39;&#39;&#39;</span>

<span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;orange&#39;</span><span class="p">,</span> <span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">]</span>
<span class="n">number</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course this is still not completely correct, since the idea was
to <em>count</em>. After the first time number is printed, it needs to be
changed to 2, to be right the next time through the loop, as in the
following code: Read and run the example program
<code class="docutils literal"><span class="pre">numberEntries2.py</span></code>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;prints poorly numbered entries from the list&#39;&#39;&#39;</span>

<span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;orange&#39;</span><span class="p">,</span> <span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">]</span>
<span class="n">number</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
    <span class="n">number</span> <span class="o">=</span> <span class="mi">2</span> <span class="c"># will change to 2 after printing 1</span>
</pre></div>
</div>
<p>This is closer, but still not completely correct, since we never
get to 3! We need a way to change the value of number
<em>that will work each time through the loop</em>. The pattern of
counting is simple, so simple in fact that you probably do not
think consciously about how you go from one number to the next: You
can describe the pattern by saying each successive number is
<em>one more than the previous number</em>. We need to be able to change
<code class="docutils literal"><span class="pre">number</span></code> so it is one more than it was before. That is the
additional idea we need! Change the last line of the loop body to
get the example program numberEntries3.py. See the addition and run
it:</p>
<span class="target" id="index-9"></span><div class="highlight-python3" id="index-10"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;orange&#39;</span><span class="p">,</span> <span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">]</span>
<span class="n">number</span> <span class="o">=</span> <span class="mi">1</span>                                   
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>   <span class="c"># print numbered entries</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>                      
    <span class="n">number</span> <span class="o">=</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">1</span>   <span class="c"># crucial added line</span>
</pre></div>
</td></tr></table></div>
<p>It is important to understand the step-by-step changes during
execution. Below is another table showing the results of playing
computer. The line numbers are much more important here to keep
track of the flow of control, because of the jumping around at the
end of the loop.</p>
<p>Again note that the program line numbers in the Line column of the
playing computer
table are <em>not</em> all listed sequentially, because the <code class="docutils literal"><span class="pre">for</span></code> loop heading line
and the indented body under it are each executed repeatedly.</p>
<p>For compactness, the variable <code class="docutils literal"><span class="pre">items</span></code> does not get its own column,
since it always has the value shown in the comment in line 1:</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="13%" />
<col width="9%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">line</th>
<th class="head">item</th>
<th class="head">number</th>
<th class="head">comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>-</td>
<td>-</td>
<td>set items to [&#8216;red&#8217;, &#8216;orange&#8217;,&#8217;yellow&#8217;, &#8216;green&#8217;]</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>-</td>
<td>1</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>3</td>
<td>&#8216;red&#8217;</td>
<td>1</td>
<td>start with item as first in sequence</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>&#8216;red&#8217;</td>
<td>1</td>
<td>print: 1 red</td>
</tr>
<tr class="row-even"><td>5</td>
<td>&#8216;red&#8217;</td>
<td>2</td>
<td>2 = 1+1</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>&#8216;orange&#8217;</td>
<td>2</td>
<td>on to the next element in sequence</td>
</tr>
<tr class="row-even"><td>4</td>
<td>&#8216;orange&#8217;</td>
<td>2</td>
<td>print 2 orange</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>&#8216;orange&#8217;</td>
<td>3</td>
<td>3=2+1</td>
</tr>
<tr class="row-even"><td>3</td>
<td>&#8216;yellow&#8217;</td>
<td>3</td>
<td>on to the next element in sequence</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>&#8216;yellow&#8217;</td>
<td>3</td>
<td>print 3 yellow</td>
</tr>
<tr class="row-even"><td>5</td>
<td>&#8216;yellow&#8217;</td>
<td>4</td>
<td>4=3+1</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>&#8216;green&#8217;</td>
<td>4</td>
<td>on to the last element in sequence</td>
</tr>
<tr class="row-even"><td>4</td>
<td>&#8216;green&#8217;</td>
<td>4</td>
<td>print 4 green</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>&#8216;green&#8217;</td>
<td>5</td>
<td>5=4+1</td>
</tr>
<tr class="row-even"><td>3</td>
<td>&#8216;green&#8217;</td>
<td>5</td>
<td>sequence done, end loop and code</td>
</tr>
</tbody>
</table>
<p>The final value of number is never used, but that is OK. What we
want gets printed.</p>
<p>Go through carefully and
be sure you understand the meaning of each entry in the table, and the
reason for the sequencing and the reason for the exact position of
each entry in each step where it changes!
In particular see how and why the line number for each
successive row is <em>not</em> always one more than the previous row.  In
particular, see how <em>the same sequence of numbered lines may be repeated</em>
in multiple places in the table.
Without this understanding you will not be able to play computer yourself
and really understand loops.</p>
<p>This short example illustrates a lot of ideas important to loops:</p>
<ul class="simple">
<li>Loops may contain several variables.</li>
<li>One way a variable can change is by being the variable in a
<code class="docutils literal"><span class="pre">for</span></code> loop heading, that automatically goes through the values in the
<code class="docutils literal"><span class="pre">for</span></code> loop list.</li>
<li>Another way to have variables change in a loop is to have an
explicit statement that changes the variable inside the loop,
causing <em>successive modifications</em>.</li>
</ul>
<p>There is a general pattern to loops with successive modification of
a variable like <code class="docutils literal"><span class="pre">number</span></code> above:</p>
<ol class="arabic simple">
<li>The variables to be modified need <em>initial</em> values <em>before</em> the
loop (line 1 in the example above).</li>
<li>The loop heading causes the repetition. In a for-loop, the
number of repetitions is the same as the size of the list.</li>
<li>The body of the loop generally &#8220;does something&#8221; (like print
above in line 4) that you want done repeatedly.</li>
<li>There is code inside the body of the loop to set up for the
<em>next</em> time through the loop, where the variable which needs to
change gets transformed to its next value (line 5 in the example
above).</li>
</ol>
<p id="index-11">This information can be put in a code outline:</p>
<div class="line-block">
<div class="line">Initialize variables to be modified</div>
<div class="line">Loop heading controlling the repetition:</div>
<div class="line-block">
<div class="line">Do the desired action with the current variables</div>
<div class="line">Modify variables to be ready for the action the next time</div>
</div>
</div>
<p>If you compare this pattern to the for-each and simple repeat loops
in <a class="reference internal" href="#basic-for-loops"><span>Basic for Loops</span></a>, you see that the examples there
were simpler. There was no explicit variable modification needed to
prepare for the next time though the loop. We will refer to the
latest, more general pattern as a <em>successive modification</em> loop.</p>
<p>Functions are handy for encapsulating an idea for use and reuse in
a program, and also for testing. We can write a function to number
a list, and easily test it with different data. Read and run the
example program <code class="docutils literal"><span class="pre">numberEntries4.py</span></code>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39; use a function to number the entries in any list&#39;&#39;&#39;</span>

<span class="k">def</span> <span class="nf">numberList</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Print each item in a list items, numbered in order.&#39;&#39;&#39;</span>
    <span class="n">number</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">number</span> <span class="o">=</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">numberList</span><span class="p">([</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;orange&#39;</span><span class="p">,</span> <span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">()</span>
    <span class="n">numberList</span><span class="p">([</span><span class="s">&#39;apples&#39;</span><span class="p">,</span> <span class="s">&#39;pears&#39;</span><span class="p">,</span> <span class="s">&#39;bananas&#39;</span><span class="p">])</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Make sure you can follow the whole sequence, step by step! This
program has the most complicated flow of control so far, changing
both for function calls and loops.</p>
<ol class="arabic">
<li><p class="first">Execution start with the very last line, since the previous
lines are definitions</p>
</li>
<li><p class="first">Then <code class="docutils literal"><span class="pre">main</span></code> starts executing.</p>
</li>
<li><p class="first">The first call to <code class="docutils literal"><span class="pre">numberList</span></code> effectively sets the formal
parameter</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;orange&#39;</span><span class="p">,</span> <span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="s">&#39;green&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>and the function executes just like the flow followed in
<code class="docutils literal"><span class="pre">numberEntries3.py</span></code>. This time, however, execution returns to
main.</p>
</li>
<li><p class="first">An empty line is printed in the second line of main.</p>
</li>
<li><p class="first">The second call to <code class="docutils literal"><span class="pre">numberList</span></code> has a different actual
parameter <code class="docutils literal"><span class="pre">['apples',</span> <span class="pre">'pears',</span> <span class="pre">'bananas']</span></code>, so this effectively
sets the formal parameter this time</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;apples&#39;</span><span class="p">,</span> <span class="s">&#39;pears&#39;</span><span class="p">,</span> <span class="s">&#39;bananas&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>and the function executes in a similar pattern as in
<code class="docutils literal"><span class="pre">numberEntries3.py</span></code>, but with different data and one less time
through the loop.</p>
</li>
<li><p class="first">Execution returns to main, but there is nothing more to do.</p>
</li>
</ol>
</div>
<div class="section" id="accumulation-loops">
<span id="index-12"></span><span id="id10"></span><h2>1.13.7. Accumulation Loops<a class="headerlink" href="#accumulation-loops" title="Permalink to this headline">¶</a></h2>
<p>Suppose you want to add up all the numbers in a list, <code class="docutils literal"><span class="pre">nums</span></code>. Let
us plan this as a function from the beginning, so <em>read</em> the code
below. We can start with:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">sumList</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Return the sum of the numbers in nums.&#39;&#39;&#39;</span>
</pre></div>
</div>
<p id="index-13">If you do not see what to do right away, a useful thing to do is
write down a <em>concrete</em> case, and think how you would solve it, in
complete detail. If <code class="docutils literal"><span class="pre">nums</span></code> is <code class="docutils literal"><span class="pre">[2,</span> <span class="pre">6,</span> <span class="pre">3,</span> <span class="pre">8]</span></code>, you would
likely calculate:</p>
<blockquote>
<div><div class="line-block">
<div class="line">2 + 6 is 8</div>
<div class="line">8 + 3 is 11</div>
<div class="line">11 + 8 is 19</div>
<div class="line">19 is the answer to be returned.</div>
</div>
</div></blockquote>
<p>Since the list may be arbitrarily long, you need a loop. Hence you
must find a <em>pattern</em> so that you can keep reusing the
<em>same statements</em> in the loop. Obviously you are using each number
in the sequence in order. You also generate a sum in each step,
which you reuse in the next step. The pattern is different,
however, in the first line, 2+6 is 8: there is no previous sum, and
you use two elements from the list. The 2 is not added to a
previous sum.</p>
<p>Although it is not the shortest way to do the calculation
<em>by hand</em>, 2 is a sum of 0 + 2: We can make the pattern consistent
and calculate:</p>
<blockquote>
<div><div class="line-block">
<div class="line">start with a sum of 0</div>
<div class="line">0 + 2 is 2</div>
<div class="line">2 + 6 is 8</div>
<div class="line">8 + 3 is 11</div>
<div class="line">11 + 8 is 19</div>
<div class="line">19 is the answer.</div>
</div>
</div></blockquote>
<p>Then the second part of each sum is a number from the list,
<code class="docutils literal"><span class="pre">nums</span></code>. If we call the number from the list <code class="docutils literal"><span class="pre">num</span></code>, the main
calculation line in the loop could be</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">nextSum</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">+</span> <span class="n">num</span>
</pre></div>
</div>
<p>The trick is to use the same line of code the next time through the
loop. That means what <em>was</em> <code class="docutils literal"><span class="pre">nextSum</span></code> in one pass becomes the
<code class="docutils literal"><span class="pre">sum</span></code> in the next pass. One way to handle that is:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
    <span class="n">nextSum</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">+</span> <span class="n">num</span>
    <span class="nb">sum</span> <span class="o">=</span> <span class="n">nextSum</span>
</pre></div>
</div>
<p>Do you see the pattern? Again it is</p>
<blockquote>
<div><div class="line-block">
<div class="line">initialization</div>
<div class="line">loop heading:</div>
<div class="line-block">
<div class="line">main work to be repeated</div>
<div class="line">preparation for the next time through the loop</div>
</div>
</div>
</div></blockquote>
<p>Sometimes the two general loop steps can be combined. This is such
a case. Since <code class="docutils literal"><span class="pre">nextSum</span></code> is only used once, we can just substitute
its value (<code class="docutils literal"><span class="pre">sum</span></code>) where it is used and simplify to:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
    <span class="nb">sum</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">+</span> <span class="n">num</span>
</pre></div>
</div>
<p>so the whole function, with the <code class="docutils literal"><span class="pre">return</span></code> statement is:</p>
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">sumList</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Return the sum of the numbers in the list nums.&#39;&#39;&#39;</span>
    <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">+</span> <span class="n">num</span>
    <span class="k">return</span> <span class="nb">sum</span>
</pre></div>
</td></tr></table></div>
<p>The example program <code class="file docutils literal"><span class="pre">sumNums.py</span></code> has the code above with
the following line added at the end to test the
function (not indented). <em>Run</em> <code class="file docutils literal"><span class="pre">sumNums.py</span></code>.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="nb">print</span><span class="p">(</span><span class="n">sumList</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
</pre></div>
</div>
<p>The pattern used here is certainly successive modification (of the
<code class="docutils literal"><span class="pre">sum</span></code> variable). It is useful to give a more specialized name for
this version of the pattern here. It follows an <em>accumulation</em>
pattern:</p>
<div class="line-block">
<div class="line">initialize the <em>accumulation</em> to include none of the <em>sequence</em> (<code class="docutils literal"><span class="pre">sum</span> <span class="pre">=</span> <span class="pre">0</span></code> here)</div>
<div class="line"><code class="docutils literal"><span class="pre">for</span></code> <em>item</em> <code class="docutils literal"><span class="pre">in</span></code> <em>sequence</em> <code class="docutils literal"><span class="pre">:</span></code></div>
<div class="line-block">
<div class="line">new value of <em>accumulation</em> = result of combining <em>item</em> with last value of <em>accumulation</em></div>
</div>
</div>
<p>This pattern will work in many other situations besides adding
numbers.</p>
<p><strong>English loop terminology</strong>:
Of course you need to be able to go from an English description of a problem
to a plan and then implement it in Python. In particular,
it will be very important to realize
when you will need your program to have a loop through a sequence.
What are some common words or phrases that suggest a loop?
After thinking for yourself, compare: <a class="footnote-reference" href="#loopwords" id="id11">[4]</a></p>
<p>Once you see this need for a loop, you need to plan your code.
There are a bunch of questions you can <em>routinely</em> ask yourself
about fleshing out the outline for the loop part of your code:</p>
<blockquote>
<div><div class="line-block">
<div class="line">initialization</div>
<div class="line">loop heading:</div>
<div class="line-block">
<div class="line">main work to be repeated</div>
<div class="line">preparation for the next time through the loop</div>
</div>
</div>
</div></blockquote>
<ol class="arabic simple">
<li>What is the sequence?  What descriptive name can I give to the loop variable?</li>
<li>Write the <code class="docutils literal"><span class="pre">for</span></code> loop heading.
With this decided, you no longer need to think about the whole program at once:
You can <em>focus on what you do for one element</em>, with the name you gave
in the loop heading.</li>
<li>What do I need to do for a single element of the sequence?
Does this involve other variables? If so, how will I initialize them?
Write this action into the body of the loop, using the loop variable.</li>
<li>Does the main action involve a variable, other than the loop variable,
that needs to change each time through the loop?
If so, how do I relate the present and next values,
and change the value to be
ready for the next time through the loop?
Writing the sequence for a specific example may help.
Finally, code this update.</li>
</ol>
<div class="section" id="play-computer-sumlist-exercise">
<h3>1.13.7.1. Play Computer sumList Exercise<a class="headerlink" href="#play-computer-sumlist-exercise" title="Permalink to this headline">¶</a></h3>
<p>Suppose the function <code class="docutils literal"><span class="pre">sumList</span></code>, defined above,
is called with the parameter
<code class="docutils literal"><span class="pre">[5,</span> <span class="pre">2,</span> <span class="pre">4,</span> <span class="pre">7]</span></code>. Play computer on this call, using the file
<code class="file docutils literal"><span class="pre">playComputerSumStub.rtf</span></code>, opened
from an <em>operating system</em> window
for the examples directory. Do <em>not</em> open in Idle.
The file should come up in your usual word processor.
Immediately save the file as
<code class="file docutils literal"><span class="pre">playComputerSum.rtf</span></code>, and fill in blank cells in the table.</p>
<p>Make sure there is a
row in the table for each line executed in the program,
with a <em>separate</em> line entry for <em>each time a line is executed</em>.
In each row enter which program line is being
executed, and show all changes caused to variables by the execution
of that one line.
Display line numbers as shown in the margin beside the example code
<em>in the Tutorial</em>.
(The separate Python files themselves do not show the line numbers.)
A table is started for you below. The final row that you enter in your
your table should be for an execution of line numbered 6 in the code,
and your comment can be, &#8220;return 18&#8221;.</p>
<p>If the same variable value in one column repeats through several rows,
it is more convenient just leave the later entries blank, rather than
keep copying.  With this convention, the current value of a variable
is the last value recorded in a previous line in the table.</p>
<p>This is the first &#8220;Play Computer&#8221; exercise with a loop.
Be sure to look back at the earlier play computer examples. The lines
in the loop (and hence their line numbers) repeat multiple times
as rows in the table, as you follow
the loop one time through after another!</p>
<p>The original parameter, which does not change, does not have a
column in the table,
for compactness.  The start of the table is shown below.
As shown in the first comment,
throughout the function call, <code class="docutils literal"><span class="pre">nums</span></code> is</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="5%" />
<col width="5%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Line</th>
<th class="head">sum</th>
<th class="head">num</th>
<th class="head">comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>-</td>
<td>-</td>
<td>set nums to [5, 2, 4, 7]; skip line 2 doc string</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="test-sumlist-exercise">
<h3>1.13.7.2. Test sumList Exercise<a class="headerlink" href="#test-sumlist-exercise" title="Permalink to this headline">¶</a></h3>
<p>Write a program <code class="docutils literal"><span class="pre">testSumList.py</span></code> which includes a <code class="docutils literal"><span class="pre">main</span></code>
function to test the sumList function several times. Include a test
for the extreme case, with an empty list.</p>
</div>
<div class="section" id="join-all-exercise">
<h3>1.13.7.3. Join All Exercise<a class="headerlink" href="#join-all-exercise" title="Permalink to this headline">¶</a></h3>
<p>* Complete the following function. This starting code is in
<code class="docutils literal"><span class="pre">joinAllStub.py</span></code>. Save it to the <em>new</em> name <code class="docutils literal"><span class="pre">joinAll.py</span></code>. Note
the way an example is given in the documentation string. It
simulates the use of the function in the Shell. This is a common
convention:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">joinStrings</span><span class="p">(</span><span class="n">stringList</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Join all the strings in stringList into one string,</span>
<span class="sd">    and return the result, NOT printing it. For example:</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; s = joinStrings([&#39;very&#39;, &#39;hot&#39;, &#39;day&#39;]) # returns string</span>
<span class="sd">    &gt;&gt;&gt; print(s) </span>
<span class="sd">    veryhotday</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
<p><strong>First Hint</strong>: <a class="footnote-reference" href="#accum" id="id12">[5]</a>  <strong>Second Hint</strong>: <a class="footnote-reference" href="#nothing" id="id13">[6]</a></p>
</div>
</div>
<div class="section" id="more-playing-computer">
<span id="playing-computer"></span><span id="index-14"></span><h2>1.13.8. More Playing Computer<a class="headerlink" href="#more-playing-computer" title="Permalink to this headline">¶</a></h2>
<p>Testing code by running it is fine, but looking at the results does
not mean you really understand what is going on, particularly if
there is an error! People who do not understand what is happening
are likely to make random changes to their code in an attempt to
fix errors. This is a <em>very bad</em>, increasingly self-defeating
practice, since you are likely to never learn where the real
problem lies, and the same problem is likely to come back to bite
you.</p>
<p>It is important to be able to predict accurately what code will do.
We have illustrated playing computer on a variety of small chunks
of code.</p>
<p>Playing computer can help you find bugs (errors in your code). Some
errors are syntax errors caught by the interpreter in translation.
Some errors are only caught by the interpreter during execution,
like failing to have a value for a variable you use. Other errors
are not caught by the interpreter at all - you just get the wrong
answer. These are called <em>logical</em> errors. Earlier logical errors
can also trigger an execution error later. This is when playing
computer is particularly useful.</p>
<p>A common error in trying to write the <code class="docutils literal"><span class="pre">numberList</span></code> function would
be to have the following code
(extracted from <code class="docutils literal"><span class="pre">numberEntriesWRONG.py</span></code>):</p>
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">numberList</span><span class="p">(</span><span class="n">items</span><span class="p">):</span> <span class="c">#WRONG code for illustration</span>
    <span class="sd">&#39;&#39;&#39;Print each item in a list items, numbered in order.&#39;&#39;&#39;</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="n">number</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">number</span> <span class="o">=</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</td></tr></table></div>
<p>You can run this code and see that it
produces the wrong answer. If you play computer on the call to
<code class="docutils literal"><span class="pre">numberList(['apples',</span> <span class="pre">'pears',</span> <span class="pre">'bananas'])</span></code>, you can see the
problem:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="13%" />
<col width="10%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Line</th>
<th class="head">item</th>
<th class="head">number</th>
<th class="head">comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>-</td>
<td>-</td>
<td>set items to [&#8216;apples&#8217;, &#8216;pears&#8217;, &#8216;bananas&#8217;]</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>&#8216;apples&#8217;</td>
<td>-</td>
<td>start with item as first in sequence</td>
</tr>
<tr class="row-even"><td>4</td>
<td>&#8216;apples&#8217;</td>
<td>1</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>&#8216;apples&#8217;</td>
<td>1</td>
<td>1   print: 1 apples</td>
</tr>
<tr class="row-even"><td>6</td>
<td>&#8216;apples&#8217;</td>
<td>2</td>
<td>2 = 1+1</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>&#8216;pears&#8217;</td>
<td>2</td>
<td>on to the next element in sequence</td>
</tr>
<tr class="row-even"><td>4</td>
<td>&#8216;pears&#8217;</td>
<td>1</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>&#8216;pears&#8217;</td>
<td>1</td>
<td>print: 1 pears <em>OOPS!</em></td>
</tr>
</tbody>
</table>
<p>If you go step by step you should see where the incorrect 1 came
from: the initialization is repeated each time in the loop at line
4, undoing the incrementing of <code class="docutils literal"><span class="pre">number</span></code> in line 6, messing up
your count.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Always be careful that your <em>one-time</em> initialization
for a loop goes <em>before</em> the loop, not in it!</p>
</div>
<p id="index-15">Functions can also return values. Consider the Python for this
mathematical sequence: define the function m(x) = 5x, let y = 3;
find m(y) + m(2y-1):</p>
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">m</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>   <span class="c"># mathematical function m </span>
    <span class="k">return</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span>               
 
<span class="n">y</span> <span class="o">=</span> <span class="mi">3</span>                         
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">m</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>        
</pre></div>
</td></tr></table></div>
<p>This code is in example <code class="docutils literal"><span class="pre">mathfunc.py</span></code>.
A similar example was considered in <a class="reference internal" href="functions.html#returned-function-values"><span>Returned Function Values</span></a>,
but now add the idea of playing
computer and recording the sequence in a table. Like when you
simplify a mathematical expression, Python must complete the
innermost parts first. Tracking the changes means following the
function calls carefully and using the values returned. Again a
dash &#8216;-&#8216; is used in the table to indicate an undefined variable.
Not only are local variables like formal parameters undefined
before they are first used, they are also undefined after the
termination of the function,</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="2%" />
<col width="1%" />
<col width="92%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Line</th>
<th class="head">x</th>
<th class="head">y</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1-3</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Remember definition of m</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>-</td>
<td>3</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>5</td>
<td>-</td>
<td>3</td>
<td>start on: print(m(y) + m(2*y-1)); first want m(y), which is m(3)</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>3</td>
<td>3</td>
<td>pass 3 to function m, so x =3</td>
</tr>
<tr class="row-even"><td>2</td>
<td>3</td>
<td>3</td>
<td>return 5*3 = 15</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>-</td>
<td>3</td>
<td>substitute result: print(15 + m(2*y-1)), want m(2*y-1), which is m(2*3-1) = m(5)</td>
</tr>
<tr class="row-even"><td>1</td>
<td>5</td>
<td>3</td>
<td>pass 5 to function m, so x=5</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>5</td>
<td>3</td>
<td>return 5*5 = 25</td>
</tr>
<tr class="row-even"><td>5</td>
<td>-</td>
<td>3</td>
<td>substitute result: print(15 + 25), so calculate and print 40</td>
</tr>
</tbody>
</table>
<p>Thus far most of the code given has been motivated first, so you
are likely to have an idea what to expect. You may need to read
code written by someone else (or even yourself a while back!) where
you are not sure what is intended. Also you might make a mistake
and accidental write code that does something unintended! If you
really understand how Python works, one line at a time, you should
be able to play computer and follow at least short code sequences
that have not been explained before. It is useful to read another
person&#8217;s code and try to follow it. The next exercises also
provides code that has not been explained first, or has a mistake.</p>
<div class="section" id="play-computer-odd-loop-exercise">
<h3>1.13.8.1. Play Computer Odd Loop Exercise<a class="headerlink" href="#play-computer-odd-loop-exercise" title="Permalink to this headline">¶</a></h3>
<p>* Work in a word processor (not Idle!),
starting from example <code class="file docutils literal"><span class="pre">playComputerStub.rtf</span></code>, and save the file as
<code class="file docutils literal"><span class="pre">playComputer.rtf</span></code>.  The file has
tables set up for this and the following two exercise.</p>
<p>Play computer on the following code:</p>
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>       <span class="c"># Exercise Play Computer Loop</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">1</span>                  
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span>     
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">n</span>         
    <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>                  
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                
</pre></div>
</td></tr></table></div>
<p>Reality check: 31 is
printed when line 6 finally executes.
The start of the table for this exercise is shown below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Line</th>
<th class="head">x</th>
<th class="head">y</th>
<th class="head">n</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="play-computer-error-exercise">
<h3>1.13.8.2. Play Computer Error Exercise<a class="headerlink" href="#play-computer-error-exercise" title="Permalink to this headline">¶</a></h3>
<p>* In a word processor
add to the file <code class="file docutils literal"><span class="pre">playComputer.rtf</span></code>, started in the previous exercise.</p>
<p>The following code is supposed to compute the product of
the numbers in a list. For instance <code class="docutils literal"><span class="pre">product([5,</span> <span class="pre">4,</span> <span class="pre">6])</span></code> should
calculate and return 5*4*6=120 in steps, calculating 5,
5*4=20 and 20*6=120.</p>
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">product</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>     <span class="c">#Play Computer Error Exercise </span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>     
        <span class="n">prod</span> <span class="o">=</span> <span class="mi">1</span>        
        <span class="n">prod</span> <span class="o">=</span> <span class="n">prod</span><span class="o">*</span><span class="n">n</span>   
    <span class="k">return</span> <span class="n">prod</span>         
</pre></div>
</td></tr></table></div>
<p>The code for this exercise
appears in the example file <code class="file docutils literal"><span class="pre">numProductWrong.py</span></code>.</p>
<p>A major use of playing computer is to see exactly where the
data that you expect gets messed up.  Play computer on a call to
<code class="docutils literal"><span class="pre">product([5,</span> <span class="pre">4,</span> <span class="pre">6])</span></code> <em>until</em> you see that it makes a mistake,
and produces a wrong number.
Then you can stop extending the table, just ending with a comment
about how the error is now visible.</p>
<p>The table
headings and the first row of the table for this exercise are shown below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="9%" />
<col width="13%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Line</th>
<th class="head">n</th>
<th class="head">prod</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>-</td>
<td>-</td>
<td>Set nums to [5, 4, 6]</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Then you can stop and fix it:  First copy <code class="file docutils literal"><span class="pre">numProductWrong.py</span></code> to
<code class="file docutils literal"><span class="pre">numProduct.py</span></code>, and fix the new file (and save again!).</p>
</div>
<div class="section" id="play-computer-functions-exercise">
<h3>1.13.8.3. Play Computer Functions Exercise<a class="headerlink" href="#play-computer-functions-exercise" title="Permalink to this headline">¶</a></h3>
<p>* In a word processor once again
add to the file <code class="file docutils literal"><span class="pre">playComputer.rtf</span></code>, started in the previous exercises.</p>
<p>Play computer on the following code:</p>
<div class="highlight-python3"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>      <span class="c">#Play Computer Functions Exercise          </span>
    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">4</span>                  
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Reality check: 70 is printed.</p>
<p>The table
headings  and the first row of the table for this exercise are shown below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="4%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Line</th>
<th class="head">x</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1-2</td>
<td>&nbsp;</td>
<td>Remember f definition</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>You will revisit line 3 several times, with table lines for
function <code class="docutils literal"><span class="pre">f</span></code> execution interspersed.
Look at the example above which has a table showing function <code class="docutils literal"><span class="pre">m</span></code>
returning a value twice!</p>
</div>
</div>
<div class="section" id="the-print-function-keyword-end">
<span id="print-end"></span><span id="index-16"></span><h2>1.13.9. The <code class="docutils literal"><span class="pre">print</span></code> function keyword <code class="docutils literal"><span class="pre">end</span></code><a class="headerlink" href="#the-print-function-keyword-end" title="Permalink to this headline">¶</a></h2>
<p>By default the print function adds a newline to the end of the
string being printed. This can be overridden by including the
keyword parameter <code class="docutils literal"><span class="pre">end</span></code>. The keyword end can be set equal to any
string. The most common replacements are the empty string or a
single blank. If you also use the keyword parameter <code class="docutils literal"><span class="pre">sep</span></code>, these
keyword parameters may be in either order, but keyword parameters must come at the
end of the parameter list. Read the illustrations:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="nb">print</span><span class="p">(</span><span class="s">&#39;all&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">,</span> <span class="s">&#39;same&#39;</span><span class="p">,</span> <span class="s">&#39;line&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;different line&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="nb">print</span><span class="p">(</span><span class="s">&#39;all&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span> <span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;same&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;line&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;different line&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This does not work directly in the shell (where you are always
forced to a new line at the end). It does work in a program, but it
is not very useful except in a loop!</p>
<p>Suppose I want to print a line
with all the elements of a list, separated by spaces, but not on
separate lines. I can use the <code class="docutils literal"><span class="pre">end</span></code> keyword set to a space in the
loop. Can you figure out in your head what this example file
<code class="docutils literal"><span class="pre">endSpace1.py</span></code> does? Then try it:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">listOnOneLine</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">)</span>

<span class="n">listOnOneLine</span><span class="p">([</span><span class="s">&#39;apple&#39;</span><span class="p">,</span> <span class="s">&#39;banana&#39;</span><span class="p">,</span> <span class="s">&#39;pear&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;This may not be what you expected!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you still want to go on to a new line at the <em>end</em> of the loop,
you must include a print function that does advance to the next
line, once, <em>after</em> the loop. Try this variation, <code class="docutils literal"><span class="pre">endSpace2.py</span></code></p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">listOnOneLine</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>

<span class="n">listOnOneLine</span><span class="p">([</span><span class="s">&#39;apple&#39;</span><span class="p">,</span> <span class="s">&#39;banana&#39;</span><span class="p">,</span> <span class="s">&#39;pear&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;This is probably better!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="loopwords" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id11">[4]</a></td><td>&#8220;do each&#8221;, &#8220;do every&#8221;, &#8220;for all&#8221;, &#8220;process each&#8221;, &#8220;do ___ times&#8221;, ...</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="accum" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id12">[5]</a></td><td>This is a form of accumulation, but not quite the same as adding
numbers.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="nothing" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[6]</a></td><td>&#8220;Start with nothing accumulated&#8221; does not mean 0, here.
You are dealing with strings, not numbers. Think
what is appropriate.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1.13. Loops and Sequences</a><ul>
<li><a class="reference internal" href="#updating-variables">1.13.1. Updating Variables</a></li>
<li><a class="reference internal" href="#the-list-type">1.13.2. The <code class="docutils literal"><span class="pre">list</span></code> Type</a></li>
<li><a class="reference internal" href="#the-range-function-part-1">1.13.3. The <code class="docutils literal"><span class="pre">range</span></code> Function, Part 1</a></li>
<li><a class="reference internal" href="#basic-for-loops">1.13.4. Basic <code class="docutils literal"><span class="pre">for</span></code> Loops</a><ul>
<li><a class="reference internal" href="#pattern-loop-exercise">1.13.4.1. Pattern Loop Exercise</a></li>
<li><a class="reference internal" href="#triple-exercise">1.13.4.2. Triple Exercise</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simple-repeat-loop">1.13.5. Simple Repeat Loop</a></li>
<li><a class="reference internal" href="#successive-modification-loops">1.13.6. Successive Modification Loops</a></li>
<li><a class="reference internal" href="#accumulation-loops">1.13.7. Accumulation Loops</a><ul>
<li><a class="reference internal" href="#play-computer-sumlist-exercise">1.13.7.1. Play Computer sumList Exercise</a></li>
<li><a class="reference internal" href="#test-sumlist-exercise">1.13.7.2. Test sumList Exercise</a></li>
<li><a class="reference internal" href="#join-all-exercise">1.13.7.3. Join All Exercise</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-playing-computer">1.13.8. More Playing Computer</a><ul>
<li><a class="reference internal" href="#play-computer-odd-loop-exercise">1.13.8.1. Play Computer Odd Loop Exercise</a></li>
<li><a class="reference internal" href="#play-computer-error-exercise">1.13.8.2. Play Computer Error Exercise</a></li>
<li><a class="reference internal" href="#play-computer-functions-exercise">1.13.8.3. Play Computer Functions Exercise</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-print-function-keyword-end">1.13.9. The <code class="docutils literal"><span class="pre">print</span></code> function keyword <code class="docutils literal"><span class="pre">end</span></code></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dictionaries.html"
                        title="previous chapter">1.12. Dictionaries</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="float.html"
                        title="next chapter">1.14. Decimals, Floats, and Floating Point Arithmetic</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/loops.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="float.html" title="1.14. Decimals, Floats, and Floating Point Arithmetic"
             >next</a> |</li>
        <li class="right" >
          <a href="dictionaries.html" title="1.12. Dictionaries"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Hands-on Python Tutorial</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="ch1.html" >1. Beginning With Python</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2019, Dr. Andrew N. Harrington.
      Last updated on Jan 28, 2020.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1+.
    </div>
  </body>
</html>