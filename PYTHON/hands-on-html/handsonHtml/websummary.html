<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.5. Summary &mdash; Hands-on Python Tutorial for Python 3</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="Hands-on Python Tutorial for Python 3" href="index.html" />
    <link rel="up" title="4. Dynamic Web Pages" href="ch4.html" />
    <link rel="next" title="5. Appendices" href="appendices.html" />
    <link rel="prev" title="4.4. CGI - Dynamic Web Pages" href="dynamic.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="appendices.html" title="5. Appendices"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dynamic.html" title="4.4. CGI - Dynamic Web Pages"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Hands-on Python Tutorial</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="ch4.html" accesskey="U">4. Dynamic Web Pages</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="summary">
<span id="websummary"></span><h1>4.5. Summary<a class="headerlink" href="#summary" title="Permalink to this headline">Â¶</a></h1>
<ol class="upperalpha">
<li><p class="first">The Overall Process for Creating Dynamic Web Pages</p>
<p>Making dynamic web pages has a number of steps. I have suggested
several ways of decoupling the parts, so you can alter the order,
but if you are starting from nothing, you might follow the
following sequence:</p>
<ol class="arabic simple">
<li>Determine the inputs you want to work with and make a web form
that makes it easy and obvious for the user to provide the data.
You may initially want to have the form&#8217;s action URL be
<code class="docutils literal"><span class="pre">dumpcgi.cgi</span></code>, so you can debug the form separately. Test with the
local server. When everything seems OK, <em>make sure to change the
action URL to be the name of the CGI script you are writing</em>.
[<a class="reference internal" href="dynamic.html#editing-html-forms"><span>Editing HTML Forms</span></a>]</li>
<li>It is easier to debug a regular Python program totally inside
Idle than to mix the Idle editor and server execution. Particularly
if the generation of output data is going to be complicated or
there are lots of places you are planning to insert data into an
output template, I suggest you write the <code class="docutils literal"><span class="pre">processInput</span></code> function
with its output template first and test it <em>without</em> a server, as we
did with <code class="docutils literal"><span class="pre">additionWeb.py</span></code>, providing either canned input in the
main program, or taking input data from the keyboard,
and saving the output page to a local file that you examine in your
webbrowser. [<a class="reference internal" href="webtemplates.html#dynamically-created-static"><span>Dynamically Created Static Local Pages from Python</span></a>]</li>
<li>When you are confident about your <code class="docutils literal"><span class="pre">processInput</span></code> function, put
it in a program with the proper cgi skeleton, and add the necessary
lines at the beginning of the <code class="docutils literal"><span class="pre">main</span></code> function to take all the CGI
script input from the browser data.
Include all the variable names you need in the actual parameter list
for calling <code class="docutils literal"><span class="pre">processInput</span></code>.  They should match up
with the formal parameters you wrote earlier for
the definition of <code class="docutils literal"><span class="pre">processInput</span></code>.
[<a class="reference internal" href="dynamic.html#adder-cgi"><span>adder.cgi</span></a>]</li>
<li>Be sure to check for syntax errors in Idle,
by using the menu sequence <span class="guilabel">Run -&gt; Check Module</span>.
Fix as necessary.</li>
<li>Remember to run CGIfix.py in the same folder as a precaution to
clean things up, particularly with a new .cgi file on a Mac.</li>
<li>Finally test the whole thing with the local server.  Make sure the
local server is running, and all the resources that you refer to are in
the same folder as the local web server:  Initial web page, web page
templates, CGI script.  Do not open the starting web page or CGI script
in Idle or by finding it in your file system.  You must run it in
your browser with a URL that starts with <code class="docutils literal"><span class="pre">http://localhost:8080/</span></code>.
In error, if you load a web page
directly from your file system, it will not cause an obvious error -
the dynamic actions will just not take place.</li>
<li>If is does not work right:<ul>
<li>If you get a page that uses your template, but it looks wrong,
either fix your template or look for a logical error in your
program.  (If you had tested your <code class="docutils literal"><span class="pre">processInput</span></code> function
in a regular Python program before, this should not happen.)</li>
<li>If the web page output shows an error description, see if you can
pick any help out and go back and fix your code.</li>
<li>If you get nothing
back in your web browser, make sure you had tested the final version
of the code in Idle for syntax errors
(<span class="guilabel">Run -&gt; Check Module</span>),
and that you have the final error catching code in the CGI script,
and that you used a URL that starts with <code class="docutils literal"><span class="pre">http://localhost:8080/</span></code>.</li>
<li>If all of the parts mentioned above are there,
the problem may show in the server, not Python.
Look in the local server window&#8217;s log output,
and see if it points to a filename that it cannot find or ....</li>
</ul>
</li>
</ol>
</li>
<li><p class="first">Markup: Plain text may be <em>marked up</em> to include formatting. The
formatting may be easily interpreted only by a computer, or it may
be more human readable. One form of human-readable markup is
hypertext markup language (HTML). [<a class="reference internal" href="webbasics.html#format-of-web"><span>Format of Web Page Markup</span></a>]</p>
<ol class="arabic">
<li><p class="first">HTML markup involves tags enclosed in angle braces. Ending tags
start with &#8216;/&#8217;. For instance
<code class="docutils literal"><span class="pre">&lt;title&gt;Computer</span> <span class="pre">Science&lt;/title&gt;</span></code>.</p>
<p>Tags may be modified with attributes specified similar to Python
string assignments, for example the text input field tag,</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="o">&lt;</span><span class="nb">input</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;red&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;color&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Modern editors allow HTML to be edited much like in a word
processor. Two views of the data are useful: the formatted view and
the source view, showing the raw HTML markup.</p>
</li>
</ol>
</li>
<li><p class="first">Python and HTML: Since HTML is just a text string, it can easily
be manipulated in Python, and read and written to text files.
[<a class="reference internal" href="webtemplates.html#dynamically-created-static"><span>Dynamically Created Static Local Pages from Python</span></a>]</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">webbrowser</span></code> module has a function <code class="docutils literal"><span class="pre">open</span></code>, that will
open a file or web URL in your default browser:
[<a class="reference internal" href="webtemplates.html#dynamically-created-static"><span>Dynamically Created Static Local Pages from Python</span></a>]</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">webbrowser.open(</span></code> <em>filename</em> <code class="docutils literal"><span class="pre">)</span></code></p>
</div></blockquote>
</li>
<li><p class="first">Common Gateway Interface (CGI). The sequence of events for
generating a dynamic web page via CGI: [<a class="reference internal" href="dynamic.html#cgi-example"><span>An Example in Operation</span></a>]</p>
<ol class="arabic simple">
<li>The data a user types is handled directly by the browser. It
recognizes forms.</li>
<li>The user presses a Submit button. An action is stored in the
form saying what to do when the button is pressed.</li>
<li>In the cases we consider in this tutorial, the action is given
as a web resource, giving the location of a CGI script on some
server. The browser sends the data that you entered to that web
location.</li>
<li>The server recognizes the page as an executable script, sees
that it is a Python program, and executes it, using the data sent
along from the browser form as input.</li>
<li>The script runs, manipulates the input data into some results,
and puts those results into the text of a web page that is the
output of the program.</li>
<li>The server captures this output from the program and send it
back to the user&#8217;s browser as a new page to display.</li>
<li>The results appear in the user&#8217;s browser.</li>
</ol>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">cgi</span></code> Module</p>
<ol class="arabic">
<li><p class="first">Create the object to process CGI input with [<a class="reference internal" href="dynamic.html#adder-cgi"><span>adder.cgi</span></a>]</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">form</span> <span class="o">=</span> <span class="n">cgi</span><span class="o">.</span><span class="n">FieldStorage</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">Extract the first value specified by the browser with name
<em>nameAttrib</em>, or use <em>default</em> if no such value
exists [<a class="reference internal" href="dynamic.html#adder-cgi"><span>adder.cgi</span></a>]</p>
<blockquote>
<div><p><strong>variable</strong> <code class="docutils literal"><span class="pre">=</span> <span class="pre">form.getfirst(</span></code> <em>nameAttrib</em> <code class="docutils literal"><span class="pre">,</span></code> <em>default</em> <code class="docutils literal"><span class="pre">)</span></code></p>
</div></blockquote>
</li>
<li><p class="first">Extract the <code class="docutils literal"><span class="pre">list</span></code> of all values specified by the browser
associated with
name <em>nameAttrib</em> [<a class="reference internal" href="dynamic.html#more-advanced-examples"><span>More Advanced Examples</span></a>]</p>
<blockquote>
<div><p><em>listVariable</em> <code class="docutils literal"><span class="pre">=</span> <span class="pre">form.getlist(</span></code> <em>nameAttrib</em> <code class="docutils literal"><span class="pre">)</span></code></p>
</div></blockquote>
<p>This case occurs if you have a number of checkboxes, all with the
same name, but different values.  The list may be empty.</p>
</li>
</ol>
</li>
<li><p class="first">Local Python Servers.</p>
<ol class="arabic simple">
<li>Python has a module for creating a local testing server that can
handle static web pages and Python CGI
scripts.[<a class="reference internal" href="dynamic.html#cgi-example"><span>An Example in Operation</span></a>]</li>
<li>Different kinds of errors with CGI scripts are handled different
ways by a local Python server. [<a class="reference internal" href="dynamic.html#errors-in-cgi"><span>Errors in CGI Scripts</span></a>]</li>
</ol>
</li>
<li><p class="first">A comparison of the various types of files used in web
programming, listing the different ways to edit and use the files,
is given in <a class="reference internal" href="webbasics.html#editing-and-testing"><span>Editing and Testing Different Document Formats</span></a>.</p>
</li>
</ol>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="dynamic.html"
                        title="previous chapter">4.4. CGI - Dynamic Web Pages</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="appendices.html"
                        title="next chapter">5. Appendices</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/websummary.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="appendices.html" title="5. Appendices"
             >next</a> |</li>
        <li class="right" >
          <a href="dynamic.html" title="4.4. CGI - Dynamic Web Pages"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Hands-on Python Tutorial</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="ch4.html" >4. Dynamic Web Pages</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2019, Dr. Andrew N. Harrington.
      Last updated on Jan 05, 2020.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1+.
    </div>
  </body>
</html>